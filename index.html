<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¤©ä½“å›¾æ–‡ - ä¸­å›½å¤©æ–‡å¯è§†åŒ–åº”ç”¨</title>
  <script src="js/lib/lunar.js"></script>
  <script src="js/lib/vue3.js"></script>
  <script src="js/lib/astronomy.browser.js?ver=2.4"></script>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* å“åº”å¼å¸ƒå±€æ ·å¼ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Microsoft YaHei", "å¾®è½¯é›…é»‘", Arial, sans-serif;
      background-color: #1a1a1a;
      color: #e0e0e0;
      line-height: 1.6;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      background-color: #1a1a1a;
    }

    /* ä¸»è¦å†…å®¹åŒºåŸŸ */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* åŒç”»å¸ƒå®¹å™¨æ ·å¼ */
    .dual-canvas-container {
      display: flex;
      flex: 1;
      gap: 20px;
      padding: 10px;
      background-color: #0d0d0d;
      min-height: 60vh;
    }

    .canvas-section {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #0d0d0d;
      border-radius: 8px;
      border: 1px solid #404040;
      padding: 10px;
    }

    #my, #solar-system-canvas {
      border: 2px solid #404040;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
      background-color: #000;
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
    }

    /* è¡¨å•æ§ä»¶æ ·å¼ */
    .checkbox-group {
      display: grid;
      gap: 8px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      padding: 6px 0;
      transition: background-color 0.2s;
      border-radius: 4px;
    }

    .checkbox-item:hover {
      background-color: #333333;
    }

    .checkbox-item input[type="checkbox"] {
      margin-right: 8px;
      transform: scale(1.1);
    }

    .checkbox-item label {
      cursor: pointer;
      font-size: 0.9rem;
      line-height: 1.4;
      color: #e0e0e0;
    }

    /* æŒ‰é’®æ ·å¼ */
    .button-group {
      display: flex;
      gap: 8px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
      flex: 1;
      min-width: 80px;
    }

    .btn-primary {
      background-color: #007bff;
      color: white;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .btn-secondary {
      background-color: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background-color: #545b62;
    }

    /* è¾“å…¥æ¡†æ ·å¼ */
    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #b0b0b0;
    }

    .form-group input, .form-group select {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #555555;
      border-radius: 4px;
      font-size: 0.9rem;
      background-color: #333333;
      color: #e0e0e0;
    }

    .form-group input:focus, .form-group select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.25);
    }

    /* ä½ç½®è¾“å…¥ç»„ */
    .location-inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    /* æ—¶é—´è¾“å…¥ç»„ */
    .time-inputs {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .time-inputs input {
      width: 60px;
      padding: 6px 8px;
      border: 1px solid #555555;
      border-radius: 4px;
      text-align: center;
      background-color: #333333;
      color: #e0e0e0;
    }

    .time-span-input {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .time-span-input label {
      color: #e0e0e0;
      font-size: 0.9rem;
      min-width: 100px;
    }

    .time-span-input input {
      background-color: #404040;
      border: 1px solid #666;
      color: #e0e0e0;
      padding: 4px 6px;
      border-radius: 3px;
      font-size: 0.9rem;
    }

    .time-span-input select {
      background-color: #404040;
      border: 1px solid #666;
      color: #e0e0e0;
      padding: 4px 6px;
      border-radius: 3px;
      font-size: 0.9rem;
    }

    .time-span-input .hint {
      color: #888;
      font-size: 0.8rem;
      margin-left: 5px;
    }

    /* å¿«æ·é”®è¯´æ˜ */
    .keyboard-shortcuts {
      background-color: #2d2d2d;
      border-radius: 4px;
      padding: 15px;
    }

    .keyboard-shortcuts h4 {
      color: #ff6b6b;
      margin-bottom: 10px;
      font-size: 1rem;
    }

    .keyboard-shortcuts ol {
      padding-left: 20px;
    }

    .keyboard-shortcuts li {
      margin-bottom: 8px;
      font-size: 0.85rem;
      line-height: 1.4;
      color: #e0e0e0;
    }

    /* åº•éƒ¨æ§åˆ¶é¢æ¿æ ·å¼ */
    .bottom-nav {
      background-color: #242424;
      border-top: 2px solid #404040;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.5);
      overflow-y: auto;
      max-height: 40vh;
    }

    .bottom-nav .control-section {
      padding: 15px 20px;
      border-bottom: 1px solid #404040;
    }

    .bottom-nav .control-section:last-child {
      border-bottom: none;
    }

    .bottom-nav .control-section h3 {
      color: #ff6b6b;
      margin-bottom: 12px;
      font-size: 1rem;
      font-weight: 600;
    }

    /* æ—¶é—´æ§åˆ¶å¸ƒå±€ */
    .time-control-layout {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    /* å†æ³•å¸ƒå±€å®¹å™¨ */
    .calendar-layout {
      flex: 0 0 750px;
      display: flex;
      flex-direction: row;
      gap: 10px;
    }

    /* åæœˆå†åŒºåŸŸ */
    .october-calendar-section {
      flex: 1;
      background-color: #2d2d2d;
      border-radius: 6px;
      padding: 12px;
      border: 1px solid #555555;
      min-width: 200px;
    }

    /* å†œå†åŒºåŸŸ */
    .lunar-calendar-section {
      flex: 1;
      background-color: #2d2d2d;
      border-radius: 6px;
      padding: 12px;
      border: 1px solid #555555;
      min-width: 200px;
    }

    /* æ–—å»ºåŒºåŸŸ */
    .doujian-calendar-section {
      flex: 1;
      background-color: #2d2d2d;
      border-radius: 6px;
      padding: 12px;
      border: 1px solid #555555;
      min-width: 200px;
    }

    /* å¹²æ”¯åŒºåŸŸ */
    .ganzhi-calendar-section {
      flex: 1;
      background-color: #2d2d2d;
      border-radius: 6px;
      padding: 12px;
      border: 1px solid #555555;
      min-width: 200px;
    }

    .october-calendar-section h4,
    .lunar-calendar-section h4,
    .ganzhi-calendar-section h4,
    .doujian-calendar-section h4 {
      color: #ff6b6b;
      margin-bottom: 10px;
      font-size: 0.95rem;
      text-align: center;
      border-bottom: 1px solid #555555;
      padding-bottom: 6px;
    }

    .calendar-content {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .calendar-item {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 6px 8px;
      background-color: #404040;
      border-radius: 4px;
      border: 1px solid #666666;
    }

    .calendar-label {
      color: #ffd700;
      font-weight: bold;
      font-size: 0.95rem;
    }

    .calendar-day {
      color: #87ceeb;
      font-size: 0.9rem;
    }

    .calendar-total {
      color: #98fb98;
      font-size: 0.85rem;
    }

    .lunar-info {
      color: #dda0dd;
      font-size: 0.9rem;
    }

    .ganzhi-year {
      color: #ffd700;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .ganzhi-month {
      color: #87ceeb;
      font-size: 0.85rem;
    }

    .ganzhi-day {
      color: #98fb98;
      font-size: 0.85rem;
    }

    .ganzhi-hour {
      color: #f0e68c;
      font-size: 0.85rem;
    }

    /* äº”è¡Œå±æ€§æ ·å¼ */
    .wuxing-container {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.75rem;
      margin-left: 6px;
    }

    .wuxing-tiangan {
      color: #ffa500;
      font-weight: bold;
    }

    .wuxing-dizhi {
      color: #87ceeb;
      font-weight: bold;
    }

    .wuxing-separator {
      color: #888;
      font-size: 0.7rem;
    }

    /* äº”è¡Œé¢œè‰² */
    .wuxing-wood { color: #228b22; }
    .wuxing-fire { color: #ff4500; }
    .wuxing-earth { color: #8b4513; }
    .wuxing-metal { color: #708090; }
    .wuxing-water { color: #4682b4; }

    .doujian-year {
      color: #ff6347;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .doujian-year-detail {
      color: #ffa500;
      font-size: 0.85rem;
    }

    .doujian-month {
      color: #20b2aa;
      font-size: 0.85rem;
    }

    /* æ—¶é—´æ§åˆ¶åŒºåŸŸ */
    .time-control-section {
      flex: 1;
    }

    /* æ—¶é—´æ§åˆ¶ç»„ */
    .time-control-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .time-control-group .time-inputs {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .time-control-group .time-inputs input {
      width: 50px;
      padding: 6px 8px;
      border: 1px solid #555555;
      border-radius: 4px;
      text-align: center;
      background-color: #333333;
      color: #e0e0e0;
      font-size: 0.9rem;
    }

    /* å¹´ä»½è¾“å…¥æ¡†æ›´å®½ï¼Œä»¥æ”¯æŒäº”ä½æ•°å­—ï¼ˆå¦‚å…¬å…ƒå‰å¹´ä»½ï¼‰ */
    .time-control-group .time-inputs .year-input {
      width: 70px;
    }

    .time-control-group .time-inputs span {
      color: #b0b0b0;
      font-size: 0.85rem;
    }

    /* æ§åˆ¶é€‰é¡¹ç½‘æ ¼ */
    .control-options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .control-group h4 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 0.95rem;
      font-weight: 600;
    }

    .checkbox-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }

    .checkbox-row label {
      display: flex;
      align-items: center;
      gap: 6px;
      color: #e0e0e0;
      font-size: 0.85rem;
      cursor: pointer;
      transition: background-color 0.2s;
      padding: 4px 8px;
      border-radius: 3px;
    }

    .checkbox-row label:hover {
      background-color: #333333;
    }

    .checkbox-row input[type="checkbox"] {
      transform: scale(1.1);
    }

    /* åŠ¨ç”»æ§åˆ¶ */
    .animation-control {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .animation-control label {
      color: #b0b0b0;
      font-size: 0.85rem;
      white-space: nowrap;
    }

    .animation-control select {
      padding: 6px 10px;
      border: 1px solid #555555;
      border-radius: 4px;
      background-color: #333333;
      color: #e0e0e0;
      font-size: 0.85rem;
    }

    /* ä½ç½®æ§åˆ¶ */
    .location-controls {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .location-controls .location-inputs {
      display: flex;
      gap: 15px;
      justify-content: center;
      align-items: flex-end;
      flex-wrap: wrap;
    }

    .location-controls .form-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .location-controls .form-group label {
      color: #b0b0b0;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .location-controls .form-group input {
      padding: 6px 10px;
      border: 1px solid #555555;
      border-radius: 4px;
      background-color: #333333;
      color: #e0e0e0;
      font-size: 0.9rem;
      min-width: 80px;
    }

    .location-controls .button-group {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    /* æŒ‰é’®æ ·å¼ */
    .nav-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .nav-btn {
      padding: 8px 14px;
      border: 1px solid #555555;
      background-color: #333333;
      color: #e0e0e0;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s;
      min-width: 70px;
      white-space: nowrap;
    }

    .nav-btn:hover {
      background-color: #667eea;
      color: white;
      border-color: #667eea;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s;
      min-width: 80px;
    }

    .btn-primary {
      background-color: #007bff;
      color: white;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .btn-secondary {
      background-color: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background-color: #545b62;
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    .bottom-nav::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    .bottom-nav::-webkit-scrollbar-track {
      background: #2d2d2d;
    }

    .bottom-nav::-webkit-scrollbar-thumb {
      background: #555555;
      border-radius: 3px;
    }

    .bottom-nav::-webkit-scrollbar-thumb:hover {
      background: #6a6a6a;
    }

    /* æŠ˜å é¢æ¿ */
    .collapsible {
      cursor: pointer;
    }

    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .collapsible.active .collapsible-content {
      max-height: 1000px;
    }

    .collapsible.active h3::before {
      content: "ğŸ“‚";
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .app-container {
        flex-direction: column;
      }

      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .dual-canvas-container {
        flex-direction: column;
        gap: 10px;
        padding: 5px;
        min-height: 50vh;
      }

      .canvas-section {
        min-height: 200px;
        padding: 5px;
      }

      .control-options-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .checkbox-row {
        grid-template-columns: 1fr;
        gap: 6px;
      }

      .time-control-layout {
        flex-direction: column;
        gap: 15px;
      }

      .calendar-layout {
        flex: 0 0 auto;
        width: 100%;
        flex-direction: column;
        gap: 10px;
      }

      .time-control-group .time-inputs {
        gap: 5px;
      }

      .time-control-group .time-inputs input {
        width: 45px;
        font-size: 0.8rem;
      }

      .time-control-group .time-inputs .year-input {
        width: 60px;
      }

      .nav-buttons {
        gap: 6px;
      }

      .nav-btn {
        padding: 6px 10px;
        font-size: 0.75rem;
        min-width: 60px;
      }

      .location-controls .location-inputs {
        gap: 10px;
      }

      .bottom-nav {
        max-height: 50vh;
      }
    }

    /* å¤§å±å¹•ä¼˜åŒ– */
    @media (min-width: 1200px) {
      .dual-canvas-container {
        padding: 20px;
        gap: 30px;
      }

      .control-options-grid {
        grid-template-columns: repeat(4, 1fr);
      }

      .checkbox-row {
        grid-template-columns: repeat(2, 1fr);
      }
    }

      </style>
</head>

<body>
  <div id="app" class="app-container">
    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
      <!-- åŒç”»å¸ƒå®¹å™¨ -->
      <div class="dual-canvas-container">
        <!-- å·¦ä¾§ï¼šåœ°çƒä¸­å¿ƒè§†å›¾ -->
        <div class="canvas-section">
          <canvas id="my"></canvas>
        </div>

        <!-- å³ä¾§ï¼šå¤ªé˜³ç³»è§†å›¾ -->
        <div class="canvas-section">
          <canvas id="solar-system-canvas"></canvas>
        </div>
      </div>

      <!-- åº•éƒ¨æ§åˆ¶é¢æ¿ -->
      <nav class="bottom-nav">

        <!-- æ—¶é—´æ§åˆ¶ -->
        <div class="control-section">
          <h3>æ—¶é—´æ§åˆ¶</h3>
          <div class="time-control-layout">
            <!-- å·¦ä¾§ï¼šå†æ³•ä¿¡æ¯ -->
            <div class="calendar-layout">
              <!-- åæœˆå† -->
              <div class="october-calendar-section" v-if="settings.s.show10Yueli && tiangan && octoberCalendar">
                <h4>åæœˆå†</h4>
                <div class="calendar-content">
                  <div class="calendar-item">
                    <span class="calendar-label">{{ tiangan[octoberCalendar.year] || 'ç”²' }}å¹´{{ tiangan[octoberCalendar.month] || 'å­' }}æœˆ</span>
                  </div>
                  <div class="calendar-item">
                    <span class="calendar-day">ç¬¬{{ octoberCalendar.monthd || 1 }}å¤©</span>
                  </div>
                  <div class="calendar-item">
                    <span class="calendar-total">æ€»ç¬¬{{ octoberCalendar.gy || 1 }}å¤©</span>
                  </div>
                </div>
              </div>

              <!-- æ–—å»º -->
              <div class="doujian-calendar-section" v-if="settings.s.showDouJian && dizhi && doujianInfo">
                <h4>æ–—å»º</h4>
                <div class="calendar-content">
                  <div class="calendar-item">
                    <span class="doujian-year">å¹´å»ºï¼š{{ dizhi[doujianInfo.year] || 'æœªçŸ¥' }}</span>
                  </div>
                  <div class="calendar-item">
                    <span class="doujian-year-detail">ç¬¬{{ doujianInfo.dy || 0 }}å¤©</span>
                  </div>
                  <div class="calendar-item">
                    <span class="doujian-month">æœˆå»ºï¼š{{ dizhi[doujianInfo.month] || 'æœªçŸ¥' }}</span>
                  </div>
                </div>
              </div>

              <!-- å†œå†ä¿¡æ¯ -->
              <div class="lunar-calendar-section">
                <h4>å†œå†</h4>
                <div class="calendar-content">
                  <div class="calendar-item">
                    <span class="lunar-info">{{ lunarInfo || 'æ­£æœˆåˆä¸€' }}</span>
                  </div>
                </div>
              </div>

              <!-- å¹²æ”¯å† -->
              <div class="ganzhi-calendar-section">
                <h4>å¹²æ”¯å†</h4>
                <div class="calendar-content">
                  <div class="calendar-item">
                    <span class="ganzhi-year">{{ ganzhiCalendar?.year || 'ç”²å­' }}å¹´</span>
                    <span class="wuxing-container">
                      <span class="wuxing-tiangan" :class="'wuxing-' + ganzhiCalendar?.yearWuxing?.tiangan">
                        {{ ganzhiCalendar?.yearWuxing?.tiangan || 'æœ¨' }}
                      </span>
                      <span class="wuxing-separator">|</span>
                      <span class="wuxing-dizhi" :class="'wuxing-' + ganzhiCalendar?.yearWuxing?.dizhi">
                        {{ ganzhiCalendar?.yearWuxing?.dizhi || 'æœ¨' }}
                      </span>
                    </span>
                  </div>
                  <div class="calendar-item">
                    <span class="ganzhi-month">{{ ganzhiCalendar?.month || 'ç”²å­' }}æœˆ</span>
                    <span class="wuxing-container">
                      <span class="wuxing-tiangan" :class="'wuxing-' + ganzhiCalendar?.monthWuxing?.tiangan">
                        {{ ganzhiCalendar?.monthWuxing?.tiangan || 'æœ¨' }}
                      </span>
                      <span class="wuxing-separator">|</span>
                      <span class="wuxing-dizhi" :class="'wuxing-' + ganzhiCalendar?.monthWuxing?.dizhi">
                        {{ ganzhiCalendar?.monthWuxing?.dizhi || 'æœ¨' }}
                      </span>
                    </span>
                  </div>
                  <div class="calendar-item">
                    <span class="ganzhi-day">{{ ganzhiCalendar?.day || 'ç”²å­' }}æ—¥</span>
                    <span class="wuxing-container">
                      <span class="wuxing-tiangan" :class="'wuxing-' + ganzhiCalendar?.dayWuxing?.tiangan">
                        {{ ganzhiCalendar?.dayWuxing?.tiangan || 'æœ¨' }}
                      </span>
                      <span class="wuxing-separator">|</span>
                      <span class="wuxing-dizhi" :class="'wuxing-' + ganzhiCalendar?.dayWuxing?.dizhi">
                        {{ ganzhiCalendar?.dayWuxing?.dizhi || 'æœ¨' }}
                      </span>
                    </span>
                  </div>
                  <div class="calendar-item">
                    <span class="ganzhi-hour">{{ ganzhiCalendar?.time || 'ç”²å­' }}æ—¶è¾°</span>
                    <span class="wuxing-container">
                      <span class="wuxing-tiangan" :class="'wuxing-' + ganzhiCalendar?.timeWuxing?.tiangan">
                        {{ ganzhiCalendar?.timeWuxing?.tiangan || 'æœ¨' }}
                      </span>
                      <span class="wuxing-separator">|</span>
                      <span class="wuxing-dizhi" :class="'wuxing-' + ganzhiCalendar?.timeWuxing?.dizhi">
                        {{ ganzhiCalendar?.timeWuxing?.dizhi || 'æœ¨' }}
                      </span>
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <!-- å³ä¾§ï¼šæ—¶é—´æ§åˆ¶ -->
            <div class="time-control-section">
              <div class="time-control-group">
                <div class="time-inputs">
                  <input type="number" :value="today.s.year" @input="nowProcess('year', $event.target.value)" placeholder="å¹´" class="year-input">
                  <span>å¹´</span>
                  <input type="number" :value="today.s.month" @input="nowProcess('month', $event.target.value)" placeholder="æœˆ" size="2">
                  <span>æœˆ</span>
                  <input type="number" :value="today.s.day" @input="nowProcess('day', $event.target.value)" placeholder="æ—¥" size="2">
                  <span>æ—¥</span>
                  <input type="number" :value="today.s.hour" @input="nowProcess('hour', $event.target.value)" placeholder="æ—¶" size="2">
                  <span>æ—¶</span>
                  <input type="number" :value="today.s.minute" @input="nowProcess('minute', $event.target.value)" placeholder="åˆ†" size="2">
                  <span>åˆ†</span>
                  <input type="number" :value="today.s.seconds" @input="nowProcess('seconds', $event.target.value)" placeholder="ç§’" size="2">
                  <span>ç§’</span>
                </div>
                <div class="nav-buttons">
                  <button class="nav-btn" @click="nextday(-1)">å‰ä¸€å¤© (J)</button>
                  <button class="nav-btn" @click="nextday(1)">åä¸€å¤© (K)</button>
                  <button class="nav-btn" @click="nextHour(-1)">å‰1å°æ—¶ (N)</button>
                  <button class="nav-btn" @click="nextHour(1)">å1å°æ—¶ (M)</button>
                  <button class="nav-btn" @click="nextMinute(-1)">å‰1åˆ†é’Ÿ (D)</button>
                  <button class="nav-btn" @click="nextMinute(1)">å1åˆ†é’Ÿ (F)</button>
                  <button class="nav-btn" @click="now.value = new Date(); intIdx = makeInterval(); paint();">ä»Šå¤© (H)</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- æ˜¾ç¤ºé€‰é¡¹ -->
        <div class="control-section">
          <h3>æ˜¾ç¤ºé€‰é¡¹</h3>
          <div class="control-options-grid">
            <div class="control-group">
              <h4>åŸºç¡€æ˜¾ç¤º</h4>
              <div class="checkbox-row">
                <label><input type="checkbox" v-model="settings.s.guijiMode"> è½¨è¿¹æ¨¡å¼ (O)</label>
                <label><input type="checkbox" v-model="settings.s.faceMode"> ä¾§è§†å›¾ (I)</label>
                <label><input type="checkbox" v-model="settings.s.showPlanetDistance"> è·ç¦» (T)</label>
                <label><input type="checkbox" v-model="settings.s.showPlanetData"> æ•°æ® (P)</label>
              </div>
            </div>

            <div class="control-group">
              <h4>å¤ªé˜³ç³»è§†å›¾</h4>
              <div class="checkbox-row">
                <label><input type="checkbox" v-model="solarSystemSettings.showOrbits" @change="updateSolarSystemSettings()"> è½¨é“</label>
                <label><input type="checkbox" v-model="solarSystemSettings.showLabels" @change="updateSolarSystemSettings()"> æ ‡ç­¾</label>
                <label><input type="checkbox" v-model="solarSystemSettings.showCoords" @change="updateSolarSystemSettings()"> åæ ‡</label>
                <label><input type="checkbox" v-model="solarSystemSettings.showDizhi" @change="updateSolarSystemSettings()"> åäºŒåœ°æ”¯</label>
              </div>
              <div class="animation-control">
                <label>åŠ¨ç”»é€Ÿåº¦ï¼š</label>
                <select v-model="solarSystemSettings.animationSpeed" @change="updateSolarSystemSettings()">
                  <option value="0">æš‚åœ</option>
                  <option value="1">1x</option>
                  <option value="10">10x</option>
                  <option value="100">100x</option>
                  <option value="1000">1000x</option>
                </select>
              </div>
            </div>

            <div class="control-group">
              <h4>å†æ³•æ˜¾ç¤º</h4>
              <div class="checkbox-row">
                <label><input type="checkbox" v-model="settings.s.show24Jieqi"> 24èŠ‚æ°”</label>
                <label><input type="checkbox" v-model="settings.s.show24JieqiClockwise"> é¡ºæ—¶é’ˆ (L)</label>
                <label><input type="checkbox" v-model="settings.s.show28Xiu"> 28å®¿</label>
                <label><input type="checkbox" v-model="settings.s.showDouJian"> æ–—å»ºå¹´</label>
                <label><input type="checkbox" v-model="settings.s.show10Yueli"> åæœˆå†</label>
              </div>
            </div>

            <div class="control-group">
              <h4>é«˜çº§è®¾ç½®</h4>
              <div class="checkbox-row">
                <label><input type="checkbox" v-model="settings.s.useEcliptic"> é»„é“é¢ (Q)</label>
                <label><input type="checkbox" v-model="settings.s.southUp"> æ­£å—æœä¸Š (Y)</label>
                <label><input type="checkbox" v-model="settings.s.BeiDouFaceSouth"> åŒ—æ–—é¢å— (W)</label>
                <label><input type="checkbox" v-model="settings.s.showLine"> è¡Œæ˜Ÿè¿çº¿ (B)</label>
              </div>
            </div>

            <div class="control-group">
              <h4>æ—¶é—´è®¾ç½®</h4>
              <div class="time-span-input">
                <label>E/R æ—¶é—´è·¨åº¦ï¼š</label>
                <input type="number" v-model.number="timeSpan" min="0.1" step="0.1" size="6">
                <select v-model="timeUnit">
                  <option value="æ—¥">å¤©</option>
                  <option value="æœˆ">æœˆ</option>
                  <option value="å¹´">å¹´</option>
                </select>
                <span class="hint">Eåé€€ï¼ŒRå‰è¿›</span>
              </div>
            </div>
          </div>
        </div>

        <!-- è§‚æµ‹ä½ç½® -->
        <div class="control-section">
          <h3>è§‚æµ‹ä½ç½®</h3>
          <div class="location-controls">
            <div class="location-inputs">
              <div class="form-group">
                <label>ç»åº¦</label>
                <input type="number" v-model.number="position.s.longitude" step="0.0001" size="8">
              </div>
              <div class="form-group">
                <label>çº¬åº¦</label>
                <input type="number" v-model.number="position.s.latitude" step="0.0001" size="8">
              </div>
              <div class="form-group">
                <label>æµ·æ‹”(m)</label>
                <input type="number" v-model.number="position.s.altitude" size="6">
              </div>
            </div>
            <div class="button-group">
              <button class="btn btn-primary" @click="savePosition()">ä¿å­˜ä½ç½®</button>
              <button class="btn btn-secondary" @click="resetCanvas();paint()">åˆ·æ–°æ˜¾ç¤º</button>
            </div>
          </div>
        </div>
      </nav>
    </main>
  </div>
  <script src="js/config.js"></script>
  <script src="js/solar-system.js"></script>
  <script src="js/earthObserver.js"></script>
</body>

</html>