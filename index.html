<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>天体图文</title>
  <script src="js/lib/lunar.js"></script>
  <script src="js/lib/vue3.js"></script>
  <script src="js/lib/astronomy.browser.js?ver=2.4"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <div id="app">
    <div>
      <fieldset>
        <legend>行星图配置：</legend>
        <input type="checkbox" id="guijiMode" v-model="settings.s.guijiMode" /><label for="guijiMode">(快捷键O)轨迹模式</label>
        <br/><input type="checkbox" id="faceMode" v-model="settings.s.faceMode" /><label for="faceMode">(快捷键I)显示俯视图/侧视图</label>
        <br/><input type="checkbox" id="show24Jieqi" v-model="settings.s.show24Jieqi" /><label for="show24Jieqi">显示24节气圈</label>
        <br/><input type="checkbox" id="show24JieqiClockwise" v-model="settings.s.show24JieqiClockwise" /><label for="show24JieqiClockwise">(快捷键L)显示24节气圈为顺时针/否则逆时针方向</label>
        <br/><input type="checkbox" id="show24JieqiArea" v-model="settings.s.show24JieqiArea" /><label for="show24JieqiArea">显示24节气圈区域分割线</label>
        <br/><input type="checkbox" id="show28Xiu" v-model="settings.s.show28Xiu" /><label for="show28Xiu">显示28宿</label>
        <br/><input type="checkbox" id="show28Xiu" v-model="settings.s.use360" /><label for="use360">28宿刻度采用360度制/365.25度制</label>
        <br/><input type="checkbox" id="show28XiuArea" v-model="settings.s.show28XiuArea" /><label for="show28XiuArea">显示28宿区域分割线</label>
        <br/><input type="checkbox" id="showDouJian" v-model="settings.s.showDouJian" /><label for="showDouJian">显示12月历年建（斗建）</label>
        <br/><input type="checkbox" id="showYueJian" v-model="settings.s.showYueJian" /><label for="showYueJian">显示12月历月建（斗建）</label>
        <br/><input type="checkbox" id="show10Yueli" v-model="settings.s.show10Yueli" /><label for="show10Yueli">显示10月历</label>
        <br/><input type="checkbox" id="showLine" v-model="settings.s.showLine" /><label for="showLine">(快捷键B)显示行星与地球连线</label>
        <br/><input type="checkbox" id="showPlanetData" v-model="settings.s.showPlanetData" /><label for="showPlanetData">(快捷键P)显示行星名与数据</label>
        <br/><input type="checkbox" id="showDirection" v-model="settings.s.showDirection" /><label for="showDirection">显示当前时辰的方位分割线</label>
        <br/><input type="checkbox" id="showSunPlanetTrack" v-model="settings.s.showSunPlanetTrack" /><label for="showSunPlanetTrack">(快捷键U)显示太阳系各行星轨道</label>
        <br/><input type="checkbox" id="showNowString" v-model="settings.s.showNowString" /><label for="showNowString">显示当前时间</label>
        <br/><input type="checkbox" id="southUp" v-model="settings.s.southUp" /><label for="southUp">(快捷键Y)当前正南方永远朝上放</label>
        <br/><input type="checkbox" id="useEcliptic" v-model="settings.s.useEcliptic" /><label for="useEcliptic">(快捷键Q)切换黄道面/赤道面</label>
        <br/><input type="checkbox" id="BeiDouFaceSouth" v-model="settings.s.BeiDouFaceSouth" /><label for="BeiDouFaceSouth">(快捷键W)北斗七星位置是否面向正南观测（与面北镜像），面南可看到其斗柄指向角宿（杓携龙角），面北则看的是北斗真正的样子和朝向</label>
        <br/><input type="checkbox" id="showPlanetDistance" v-model="settings.s.showPlanetDistance" /><label for="showPlanetDistance">(快捷键T)展示行星距离</label>
        <br/><input type="checkbox" id="faceNorthImage" v-model="settings.s.faceNorthImage" /><label for="faceNorthImage">面北时星宿采用面南的左右镜像（否则采用立体投影）</label>
        <br/><input type="checkbox" id="useDecAndElipticInNoDistanceMode" v-model="settings.s.useDecAndElipticInNoDistanceMode" /><label for="useDecAndElipticInNoDistanceMode">(快捷键S)不展示行星距离模式下用赤纬和黄道赤道同时显示(此时太阳在黄道位置略有偏差)</label>
        <br/><input type="checkbox" id="onlyShow7Yao" v-model="settings.s.onlyShow7Yao" /><label for="onlyShow7Yao">只显示七曜</label>
        <br/><input type="checkbox" id="showHorRing" v-model="settings.s.showHorRing" /><label for="showHorRing">显示地平坐标行星方位图</label>
        <br/>
        <button @click="resetCanvas();paint();">刷新显示</button>
        <button @click="saveSettings()" style="margin-left: 8px;">保存设置</button>
      </fieldset>

      <h3 style="color: red; font-weight: bold;">重要提示：按Y切换是否固定正南方向朝上</h3>
      <fieldset>
        <legend>其他便捷操作</legend>
          <ol>
            <li>行星图操作：按下J可自动跳到前一天，按下K自动跳到后一天，按下H回到今天。可按住K不放，即可观看行星动画</li>
            <li>按下N：往前跳一小时，按下M：往后跳一小时</li>
            <li>按下D：往前跳一分钟，按下F：往后跳一分钟</li>
            <li>按下I：切换至侧视图，方便观看赤纬</li>
            <li>按下O：切换至轨迹模式，查看行星运行轨迹</li>
            <li>按下U：切换显示/不显示太阳系行星轨道（天王、海王星轨道不显示）</li>
            <li>按下Y：切换是否固定方位十字（选择旋转方位十字或旋转24节气表）</li>
            <li>按下L：切换24节气顺序</li>
            <li>按下B：切换显示行星与地球连线</li>
            <li>按下P：切换是否显示行星名与行星赤纬等数据</li>
            <li>按下Q：切换黄道俯视角度/赤道俯视角度</li>
            <li>按下A：跳到历元日期：1962年2月5日</li>
            <li>Z,X,C：分别跳到早晨6点，午夜0点，下午18点，大写X跳到中午12点</li>
            <li>按下W：切换北斗观测视角（面南/面北）</li>
            <li>按E、W：以70年为单位前后跳，方便观察岁差</li>
            <li>按T：切换是否展示行星距离。否则展示地球观察视效果，只根据黄纬区别上下，和距离区别谁覆盖谁</li>
            <li>按S：在不展示行星距离情况下，切换用赤纬/黄纬绘制行星，赤纬时同时绘制黄道赤道</li>
            <li>按G：切换28宿用360度或者365.25度</li>
          </ol>
       </fieldset>
    </div>
    <ul>
      <li>经度：<input type="text" v-model.number="position.s.longitude" /></li>
      <li>纬度：<input type="text" v-model.number="position.s.latitude" /></li>
      <li>海拔：<input type="text" v-model.number="position.s.altitude" /></li>
    </ul>
    <button @click="savePosition()" style="margin-left: 8px;">保存经纬度</button>
    <p>
      <input type="text" :value="today.s.year" @input="nowProcess('year', $event.target.value)" style="width:3em;"/>
      年<input type="number" :value="today.s.month" @input="nowProcess('month', $event.target.value)" style="width:3em;"/>
      月<input type="number" :value="today.s.day" @input="nowProcess('day', $event.target.value)" style="width:3em;"/>
      日&nbsp;<input type="number" :value="today.s.hour" @input="nowProcess('hour', $event.target.value)" style="width:3em;"/>
      时<input type="number" :value="today.s.minute" @input="nowProcess('minute', $event.target.value)" style="width:3em;"/>
      分<input type="number" :value="today.s.seconds" @input="nowProcess('seconds', $event.target.value)" style="width:3em;"/>
      秒
      <button style="margin-left: 12px;" @click="resetCanvas();paint();">刷新显示</button>
    </p>
    <p>快捷键E、R时间跨度: <input v-model="timeSpan" size="3"/>
    <select v-model="timeUnit">
      <option v-for="r in '年月日'" :value="r">{{r}}</option>
    </select>
    </p>
    <canvas id="my"></canvas>
    

        <button @click="nextMinute(-1);" style="position: fixed; bottom: 0; right: 530px;">前跳1分钟</button>
    <button @click="nextMinute(1);" style="position: fixed; bottom: 0; right: 440px;">后跳1分钟</button>
    <button @click="nextHour(-1);" style="position: fixed; bottom: 0; right: 350px;">前跳1小时</button>
    <button @click="nextHour(1);" style="position: fixed; bottom: 0; right: 260px;">后跳1小时</button>
    <button @click="nextday(-359);" style="position: fixed; bottom: 0; right: 170px;">前跳359天</button>
    <button @click="nextday(359);" style="position: fixed; bottom: 0; right: 80px;">后跳359天</button>
    <button @click="nextday(1);" style="position: fixed; bottom: 0; right: 0;">后跳一天</button>
  </div>
  <script src="js/config.js"></script>
  <script src="js/app.js"></script>
</body>

</html>